<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RichCat - KIKI</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* ê°„ë‹¨í•œ ì¶”ê°€ ìŠ¤íƒ€ì¼ */
        #mainPage { display: block; }
        #gamePage { display: none; }
        .main-header { display: flex; align-items: center; justify-content: space-between; padding: 18px 32px; background: #fff; }
        .main-logo { font-size: 2rem; font-weight: bold; color: #222; }
        .main-menu { display: flex; gap: 24px; }
        .main-menu button { background: none; border: none; font-size: 1.1rem; font-weight: bold; color: #c44; padding: 8px 18px; border-radius: 8px; cursor: pointer; transition: background 0.2s; }
        .main-menu button.active, .main-menu button:hover { background: #ffe0e0; color: #a22; }
        .main-hero { text-align: center; padding: 48px 0 24px 0; background: linear-gradient(135deg, #f8f8fa 60%, #ffe0e0 100%); }
        .main-hero-title { font-size: 2.5rem; font-weight: bold; color: #222; margin-bottom: 12px; }
        .main-hero-desc { font-size: 1.2rem; color: #666; margin-bottom: 18px; }
        .main-hero-img { width: 180px; height: 180px; object-fit: contain; margin-bottom: 12px; }
        .main-cards { display: flex; gap: 32px; justify-content: center; margin: 32px 0; }
        .main-card { background: #fff; border-radius: 18px; box-shadow: 0 4px 24px #0002; overflow: hidden; width: 260px; cursor: pointer; border: 3px solid transparent; transition: border 0.2s; position: relative; }
        .main-card.selected { border: 3px solid #ff4444; }
        .main-card img { width: 100%; height: 220px; object-fit: cover; }
        .main-card-title { font-size: 1.1rem; font-weight: bold; color: #333; padding: 12px 0 8px 0; text-align: center; }
        .main-card-desc { font-size: 0.95rem; color: #666; text-align: center; padding-bottom: 12px; }
        .main-all-btn { background: linear-gradient(135deg, #ffe066, #fffbe0); color: #a66; font-size: 1.2rem; font-weight: bold; border: none; border-radius: 16px; padding: 32px 0; width: 260px; margin: 0 0 0 32px; box-shadow: 0 2px 12px #0001; cursor: pointer; }
        @media (max-width: 900px) { .main-cards { flex-direction: column; align-items: center; gap: 18px; } .main-all-btn { margin: 18px 0 0 0; width: 90vw; } }
        .home-btn {
            position: absolute;
            top: 24px;
            left: 24px;
            z-index: 2001;
            background: linear-gradient(135deg, #fff, #ffe0e0);
            color: #c44;
            font-size: 1.1rem;
            font-weight: bold;
            border: 2px solid #c44;
            border-radius: 8px;
            padding: 8px 22px;
            cursor: pointer;
            box-shadow: 0 2px 8px #0002;
            transition: background 0.2s, color 0.2s;
        }
        .home-btn:hover {
            background: #ffe0e0;
            color: #a22;
        }
    </style>
</head>
<body>
    <div id="mainPage">
        <div class="main-header">
            <div class="main-logo"> </div>
            <div class="main-menu">
                <button class="active" id="menuHome">Home</button>
                <button id="menuP2E">P2E</button>
                <button id="menuDex">Dex</button>
                <button id="menuNFT">NFT</button>
                <button id="menuSupport">Support</button>
            </div>
        </div>
        <div class="main-hero">
            <img src="img/kiki_hero.png" alt="í‚¤í‚¤ ìºë¦­í„°" class="main-hero-img">
            <div class="main-hero-title">ìŠ¤íƒìŠ¤ ë¸”ë¡ì²´ì¸ ê¸°ë°˜ ê²Œì„ ì œì‘ í”„ë¡œì íŠ¸</div>
            <div class="main-hero-desc">  KIKIì™€ í•¨ê»˜í•˜ëŠ” ìµœê³ ì˜ Web3 ê²Œì„ ê²½í—˜</div>
            <div style="margin: 18px 0;">
            
            </div>
        </div>
        <div class="main-cards">
            <div class="main-card" id="card1">
                <img src="img/Website/game_kiki_night.png" alt="ê²Œì„1">
                <div class="main-card-title">í‚¤í‚¤ì˜ ë°¤</div>
                <div class="main-card-desc">í‚¤í‚¤ì™€ í•¨ê»˜ ìƒì¡´ ì•¡ì…˜!<br>P2E ì„œë°”ì´ë²Œ ëª¨í—˜!</div>
            </div>
            <div class="main-card" id="card2">
                <img src="img/Website/game_kiki_run.png" alt="ê²Œì„2">
                <div class="main-card-title">í‚¤í‚¤ ëŸ°</div>
                <div class="main-card-desc">í‚¤í‚¤ì™€ ì§ˆì£¼ ë³¸ëŠ¥!<br>ì í”„í•˜ê³  ë‹¬ë ¤ë¼,í‚¤í‚¤!<br>ë¬´í•œ ë‹¬ë¦¬ê¸° ë„ì „!</div>
            </div>
            <div class="main-card" id="card3">
                <img src="img/Website/game_kiki_puzzle.png" alt="ê²Œì„3">
                <div class="main-card-title">í‚¤í‚¤ íŒ¡</div>
                <div class="main-card-desc">KIKI ì½”ì¸ì„ ëª¨ì•„ ë„ì „í•˜ì„¸ìš”!<br>ì ìˆ˜ë¡œ KIKI ë³´ìƒ ë°›ì!<br>ìµœê³  ì ìˆ˜ì—” íŠ¹ë³„ ë³´ìƒì´!</div>
            </div>
            <button class="main-all-btn">KIKI ìœ ë‹ˆë²„ìŠ¤ ê²Œì„ ëª¨ì•„ë³´ê¸°<br>â†“</button>
        </div>
    </div>

    <div id="gamePage">
        <button id="goHomeBtn" class="home-btn">Home</button>
        <!-- ê¸°ì¡´ Kiki ê²Œì„ UI ì „ì²´ ë³µì‚¬ -->
        <div id="gameContainer">
            <div id="gameTitle">ğŸ® ì„œë°”ì´ë²Œ ìº£: í‚¤í‚¤ì˜ ë°¤ (Copyright: í˜œìˆœâ™¥ï¸ì •ëŒ)</div>
            <div id="statusBar">
              <div class="infoPanel">
                <h3 class="info-title">KIKI í˜„í™©</h3>
                <div class="bar-group">
                  <div class="bar-label" id="healthText">HP: 100/100</div>
                  <div class="bar-bg"><div class="bar-fill" id="healthFill"></div></div>
                </div>
                <span id="timeDisplay" class="info-time">ì‹œê°„: 00:00</span>
                <span id="levelDisplay">ë ˆë²¨: 1</span>
                <div class="bar-group">
                  <div class="bar-label" id="expText">XP: 0/100</div>
                  <div class="bar-bg"><div class="bar-fill xp" id="expFill"></div></div>
                </div>
                <span id="scoreDisplay">ì ìˆ˜: 0</span>
              </div>
              <div id="upgradeBuffPanel">
                <h3>ë‚´ ì—…ê·¸ë ˆì´ë“œ/ë²„í”„</h3>
                <div id="upgradeInfo">
                  <div>ë¬´ê¸° ê°•í™”: <span id="upgradeWeapon">0</span>íšŒ</div>
                  <div>ì²´ë ¥ ì¦ê°€: <span id="upgradeHp">0</span>íšŒ</div>
                  <div>ì´ë™ì†ë„: <span id="upgradeSpeed">0</span>íšŒ</div>
                </div>
                <div id="buffInfo"></div>
              </div>
            </div>
            <canvas id="gameCanvas" width="800" height="600"></canvas>
            <!-- ì´í•˜ ê¸°ì¡´ ëª¨ë‹¬/ë¡œë”© UI ê·¸ëŒ€ë¡œ ìœ ì§€ -->
            <div id="levelUpModal" class="modal">
                <div class="modal-content">
                    <h2>ğŸ‰ ë ˆë²¨ì—…!</h2>
                    <p>ì—…ê·¸ë ˆì´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”:</p>
                    <div id="upgradeOptions">
                        <button class="upgrade-btn" data-upgrade="0">
                            <strong>ë¬´ê¸° ê°•í™”</strong>
                            <br>ê³µê²©ë ¥ +20%
                        </button>
                        <button class="upgrade-btn" data-upgrade="1">
                            <strong>ì²´ë ¥ ì¦ê°€</strong>
                            <br>ìµœëŒ€ HP +30
                        </button>
                        <button class="upgrade-btn" data-upgrade="2">
                            <strong>ì´ë™ ì†ë„</strong>
                            <br>ì†ë„ +15%
                        </button>
                    </div>
                </div>
            </div>
            <div id="gameOverModal" class="modal">
                <div class="modal-content">
                    <h2>ğŸ’€ ê²Œì„ ì˜¤ë²„</h2>
                    <p id="survivalTime">ìƒì¡´ ì‹œê°„: 00:00</p>
                    <p id="finalScore">ìµœì¢… ì ìˆ˜: 0</p>
                    <button id="restartBtn">ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>
            <div id="gameClearModal" class="modal">
                <div class="modal-content">
                    <h2>ğŸŠ ì¶•í•˜í•©ë‹ˆë‹¤!</h2>
                    <p>10ë¶„ ìƒì¡´ì— ì„±ê³µí–ˆìŠµë‹ˆë‹¤!</p>
                    <p id="clearTime">ìƒì¡´ ì‹œê°„: 10:00</p>
                    <p id="clearScore">ìµœì¢… ì ìˆ˜: 0</p>
                    <button id="continueBtn">ê³„ì† í”Œë ˆì´</button>
                    <button id="restartClearBtn">ë‹¤ì‹œ ì‹œì‘</button>
                </div>
            </div>
            <div id="loading" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 2000; color: white; font-size: 18px;">
                ğŸ® ê²Œì„ ë¡œë”© ì¤‘...
            </div>
        </div>
    </div>

    <!-- ì¤€ë¹„ì¤‘ ëª¨ë‹¬ -->
    <div id="comingSoonModal" class="modal">
        <div class="modal-content">
            <h2>ğŸš§ í˜„ì¬ ì¤€ë¹„ì¤‘ì…ë‹ˆë‹¤.</h2>
            <p>ë¹ ë¥¸ ì‹œì¼ ë‚´ì— ì˜¤í”ˆë  ì˜ˆì •ì…ë‹ˆë‹¤!</p>
            <button id="closeComingSoonBtn">ë‹«ê¸°</button>
        </div>
    </div>

    <script>
        // ì˜¤ë¥˜ ê°ì§€ë¥¼ ìœ„í•œ ì „ì—­ ì˜¤ë¥˜ í•¸ë“¤ëŸ¬
        window.addEventListener('error', function(e) {
            console.error('ê²Œì„ ì˜¤ë¥˜:', e.error);
            document.getElementById('loading').innerHTML = 'âŒ ê²Œì„ ë¡œë”© ì‹¤íŒ¨: ' + e.message + '<br><button onclick="location.reload()">ìƒˆë¡œê³ ì¹¨</button>';
        });

        // DOMì´ ì™„ì „íˆ ë¡œë“œëœ í›„ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            // ë©”ì¸ ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸
            document.getElementById('card1').addEventListener('click', function() {
                document.getElementById('mainPage').style.display = 'none';
                document.getElementById('gamePage').style.display = 'block';

                // ê¸°ì¡´ script.jsê°€ ìˆìœ¼ë©´ ì œê±°
                const oldScript = document.querySelector('script[src^="script.js"]');
                if (oldScript) oldScript.remove();

                // ê²Œì„ ìŠ¤í¬ë¦½íŠ¸ ë™ì  ë¡œë”© (ìºì‹œ ìš°íšŒ)
                const script = document.createElement('script');
                script.src = 'script.js?v=' + Date.now();
                script.onload = function() {
                    document.getElementById('loading').style.display = 'none';
                    // ê²Œì„ ì‹œì‘ í•¨ìˆ˜ ì§ì ‘ í˜¸ì¶œ
                    if (typeof startKikiGame === 'function') startKikiGame();
                };
                script.onerror = function() {
                    document.getElementById('loading').innerHTML = 'âŒ script.js íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!<br><button onclick="location.reload()">ìƒˆë¡œê³ ì¹¨</button>';
                };
                document.head.appendChild(script);
            });
            // card2, card3 í´ë¦­ ì‹œ ì¤€ë¹„ì¤‘ ëª¨ë‹¬ í‘œì‹œ
            document.getElementById('card2').addEventListener('click', function() {
                document.getElementById('comingSoonModal').classList.add('show');
            });
            document.getElementById('card3').addEventListener('click', function() {
                document.getElementById('comingSoonModal').classList.add('show');
            });
            // ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼
            document.getElementById('closeComingSoonBtn').addEventListener('click', function() {
                document.getElementById('comingSoonModal').classList.remove('show');
            });
            // Home ë²„íŠ¼ í´ë¦­ ì‹œ ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™
            document.getElementById('goHomeBtn').addEventListener('click', function() {
                document.getElementById('gamePage').style.display = 'none';
                document.getElementById('mainPage').style.display = 'block';
                // í•„ìš”ì‹œ location.reload(); // ì™„ì „ ì´ˆê¸°í™”ê°€ í•„ìš”í•˜ë©´ ì£¼ì„ í•´ì œ
            });
            // ìƒë‹¨ ë©”ë‰´ í´ë¦­ ì‹œ ì¤€ë¹„ì¤‘ ëª¨ë‹¬ í‘œì‹œ
            ['menuP2E', 'menuDex', 'menuNFT', 'menuSupport'].forEach(function(id) {
                var btn = document.getElementById(id);
                if (btn) {
                    btn.addEventListener('click', function() {
                        document.getElementById('comingSoonModal').classList.add('show');
                    });
                }
            });
        });
    </script>
</body>
</html> 